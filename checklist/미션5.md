## ë¯¸ì…˜ 5 : ì²´ìŠ¤ íŒ ìœ„ì¹˜ ë¶€ì—¬ ë° ì ìˆ˜ êµ¬í˜„í•˜ê¸°

- ì²´ìŠ¤íŒì˜ ê° ì¹¸ì— ìœ„ì¹˜ë¥¼ ë¶€ì—¬í•˜ê³  ì ìˆ˜ë¥¼ êµ¬í˜„í•œë‹¤.
- ê° ê¸°ë¬¼ì˜ ì ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ ë³¸ë‹¤.

### 1. ê¸°ë¬¼ì˜ ìƒ‰, ê¸°ë¬¼ì˜ ì¢…ë¥˜ì— ë”°ë¥¸ enum êµ¬í˜„

- [X] Color enum í•„ë“œ ì¶”ê°€
    - 3ê°œì˜ ìƒìˆ˜ ê°’ ì¡´ì¬ : WHITE, BLACK, NOCOLOR

- [X] Type enum êµ¬í˜„
    - ê¸°ë¬¼ì˜ ì¢…ë¥˜ì— ëŒ€í•œ enum ì¶”ê°€
    - í´ë˜ìŠ¤ ë„¤ì´ë° ë³€ê²½ : Representation â†’ Type
    - ìƒìˆ˜ ì¶”ê°€ : NO_PIECE

- [ ] Piece í´ë˜ìŠ¤ ë‚´ì— enum ìœ„ì¹˜

  ```java
     public class Piece {
         public enum Color {
              WHITE, BLACK, NOCOLOR;
         }

         public enum Type {
              PAWN, ROOK, KNIGHT, BISHOP, QUEEN, KING, NO_PIECE;
         }
      }
  ```

- [X] ê¸°ë¬¼ì˜ ì¢…ë¥˜ì— ë”°ë¥¸ ì‹ë³„ ë¬¸ì ê´€ë¦¬
    - ì‹ë³„ë¬¸ìëŠ” ì†Œë¬¸ìë§Œ ê´€ë¦¬
    - getWhiteRepresentation()
        - ì‹ë³„ì ë°”ë¡œ ë¦¬í„´
    - getBlackRepresentation()
        - Character.toUpperCase() ì ìš© í›„ ë¦¬í„´

   ```java
       public enum Type {
       PAWN('p'), [...];
       
           private char representation;
       
           Type(char representation) {
                   this.representation = representation;
           }
       }
       
       public class PieceTest {
           @Test
           public void getRepresentationPerPiece() throws Exception { 
               assertEquals('p', Piece.Type.PAWN.getWhiteRepresentation());
               assertEquals('P', Piece.Type.PAWN.getBlackRepresentation());
           }
       }
   ```

### 2. Pieceì— ëŒ€í•œ ìƒ‰ê³¼ ê¸°ë¬¼ì— ë”°ë¼ ë¶„ë¦¬ëœ íŒ©í† ë¦¬ ë©”ì†Œë“œì—ì„œ enum ì‚¬ìš©

- [X] Pieceì˜ ìƒ‰ê³¼ ê¸°ë¬¼ì˜ ì¢…ë¥˜ì— ë”°ë¼ ë‹¤ë¥¸ Pieceë¥¼ ìƒì„±í•˜ëŠ” íŒ©í† ë¦¬ ë©”ì†Œë“œë¥¼ êµ¬í˜„
- [X] Piece.createBlank() ì¶”ê°€
    - ê¸°ë¬¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” Piece
  ```java
      import pieces.Piece.Type;

      public class PieceTest {
      @Test
      public void create_piece() {
      verifyPiece(Piece.createWhitePawn(), Piece.createBlackPawn(), Type.PAWN);
      verifyPiece(Piece.createWhiteKnight(), Piece.createBlackKnight(), Type.KNIGHT);
      verifyPiece(Piece.createWhiteRook(), Piece.createBlackRook(), Type.ROOK);
      verifyPiece(Piece.createWhiteBishop(), Piece.createBlackBishop(), Type.BISHOP);
      verifyPiece(Piece.createWhiteQueen(), Piece.createBlackQueen(), Type.QUEEN);
      verifyPiece(Piece.createWhiteKing(), Piece.createBlackKing(), Type.KING);

      Piece blank = Piece.createBlank();
      assertFalse(blank.isWhite());
      assertFalse(blank.isBlack());
      assertEquals(Type.NO_PIECE, blank.getType());
  }
  
      private void verifyPiece(final Piece whitePiece, final Piece blackPiece, final Type type) {
          assertTrue(whitePiece.isWhite());
          assertEquals(type, whitePiece.getType());
          
          assertTrue(blackPiece.isBlack());
          assertEquals(type, blackPiece.getType());
      }
  }
  ```

### 3. íŒ©í† ë¦¬ ë©”ì†Œë“œ ë¦¬íŒ©í† ë§

- [ ] Piece í´ë˜ìŠ¤ íŒ©í† ë¦¬ ë©”ì†Œë“œ ì¤‘ë³µ ì œê±°
    - creatWhite(type)ê³¼ createBlack(type) ë©”ì†Œë“œë¡œ ì¤‘ë³µ ì œê±°
    - privateìœ¼ë¡œ ì¶”ê°€

### 4. ì²´ìŠ¤íŒì˜ ëª¨ë“  ì¹¸ì„ Pieceë¡œ ì´ˆê¸°í™”

- [ ] ë¹„ì–´ìˆëŠ” ì²´ìŠ¤ ê³µê°„ì„ ë¹ˆ Pieceë¡œ ì´ˆê¸°í™”
    - Piece.createBlank() ì ìš©
    - ğŸ¤” (Why?) ì™œ ë¹„ì–´ìˆëŠ” ì²´ìŠ¤ ê³µê°„ë„ Pieceë¡œ ë„£ìœ¼ë©´ ì¢‹ì€ì§€ì— ëŒ€í•´ ìƒê°í•´ ë³´ì.
        - null ì—ëŸ¬ ê±±ì •ì„ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.
        - ê°€ë³€ ê¸¸ì´ë¥¼ ì§€ì›í•˜ëŠ” ArrayListì˜ ë‹¨ì (ì²´ìŠ¤ ë³´ë“œ êµ¬í˜„ì—ì„œëŠ”) ë³´ì™„ ê°€ëŠ¥. ë¹„ì–´ìˆëŠ” ê³³ì„ ì±„ì›Œì£¼ëŠ” Piece ë•ë¶„ì— í•­ìƒ 8*8 ì‚¬ì´ì¦ˆë¥¼ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.
    - ğŸ¤” `ArrayList<ArrayList<Piece>>` ìë£Œêµ¬ì¡° ëŒ€ì‹  í˜„ì¬ ìë£Œêµ¬ì¡° `List<Rank>` ìœ ì§€
        - `ArrayList<ArrayList<Piece>>` ìë£Œí˜•ì€ 2ì°¨ì› ë°°ì—´ì²˜ëŸ¼ ê³ ì •ëœ ê¸¸ì´ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤.
        - Board í´ë˜ìŠ¤ì—ì„œëŠ” ì—´(column, file)ì— ëŒ€í•œ ì±…ì„ì„, Rank í´ë˜ìŠ¤ì—ì„œëŠ” í–‰(row, file)ì— ëŒ€í•œ ì±…ì„ì„ ë§¡ê²Œë” í•˜ë©´ ê´€ë¦¬í•˜ê¸° ë” ì‰¬ì›Œì§€ì§€ ì•Šì„ê¹Œë¼ëŠ” ìƒê°
        - 'ê³ ì •ëœ ê¸¸ì´'ì— ëŒ€í•œ í¬ì¸íŠ¸ë¥¼ ì–»ì„ ìˆ˜
          ìˆì—ˆë‹¤, [Why is an ArrayList of ArrayLists not multidimensional?](https://stackoverflow.com/questions/43860618/why-is-an-arraylist-of-arraylists-not-multidimensional)

### 5. ê¸°ë¬¼ê³¼ ìƒ‰ì— í•´ë‹¹í•˜ëŠ” ê¸°ë¬¼ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜

- [ ] ê°™ì€ ìƒ‰ê³¼ ì¢…ë¥˜ë¥¼ ê°€ì§„ ì²´ìŠ¤ë§ì˜ ê°¯ìˆ˜ë¥¼ ì…€ ìˆ˜ ìˆëŠ” ë©”ì†Œë“œ êµ¬í˜„
    - ë§¤ê°œë³€ìˆ˜ : ì²´ìŠ¤ë§ ìƒ‰, ì¢…ë¥˜
    - ê¸°ë¬¼ì˜ ê°œìˆ˜ë¥¼ ë¦¬í„´

### 6. ì£¼ì–´ì§„ ìœ„ì¹˜ì˜ ê¸°ë¬¼ì„ ì¡°íšŒ

- [ ] ì£¼ì–´ì§„ ìœ„ì¹˜ì˜ ê¸°ë¬¼ì„ ê°€ì ¸ì˜¤ëŠ” ë©”ì†Œë“œë¥¼ êµ¬í˜„
    - ì˜ˆë¥¼ ë“¤ì–´ ì²´ìŠ¤íŒì´ ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì´ë¼ë©´
        - "a8" ì²´ìŠ¤ë§ ìš”ì²­ ì‹œ ê²€ì€ìƒ‰ rook ë¦¬í„´
        - "e1" ì²´ìŠ¤ë§ ìš”ì²­ ì‹œ í°ìƒ‰ king ë¦¬í„´
          ```
              RNBQKBNR  8 (rank 8)
              PPPPPPPP  7
              ........  6
              ........  5
              ........  4
              ........  3
              pppppppp  2
              rnbqkbnr  1 (rank 1)
              
              abcdefgh
          ```
- [ ] BoardTest í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì— í•´ë‹¹ ë©”ì†Œë“œì˜ í…ŒìŠ¤íŠ¸ ì¶”ê°€
    ```java
      public class BoardTest {
          private Board board;
  
      @Before
      public void setup() {
          board = new Board();
      }
  
      [...]
  
      @Test
      public void findPiece() throws Exception {
          board.initialize();
              assertEquals(Piece.createBlackRook(), board.findPiece("a8"));
              assertEquals(Piece.createBlackRook(), board.findPiece("h8"));
              assertEquals(Piece.createWhiteRook(), board.findPiece("a1"));
              assertEquals(Piece.createWhiteRook(), board.findPiece("h1"));
          }
      }
    ```

- [ ] ë³´ë“œì˜ ì—´(column, file) íŒŒíŠ¸
    - ì—´(column, file) ë¶€ë¶„ì´ ì•ŒíŒŒë²³ ì†Œë¬¸ìë¡œ ë˜ì–´ìˆìŒ
    - Option 1. ìë£Œí˜•ì„ Map<Character, Rank>ë¡œ ë°”ê¾¼ë‹¤
    - Option 2. í•´ë‹¹ ë©”ì†Œë“œì—ì„œ ì—´ ì •ë³´ë¥¼ char íƒ€ì… ì¸ìë¡œ ë°›ì•„ì˜¤ë©´ ì•„ìŠ¤í‚¤ ì½”ë“œê°’ìœ¼ë¡œ ì—°ì‚°í•˜ì—¬ ì‹¤ì œ ì¸ë±ìŠ¤(ìœ„ì¹˜) ê³„ì‚°
        - ìœ„ì¹˜ë¥¼ xy ì¢Œí‘œë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…ì— ì¤‘ë³µì´ ë°œìƒí•œë‹¤ë©´ Positionê³¼ ê°™ì€ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒë„ ê³ ë ¤í•´ ë³¸ë‹¤.

### 7. ì„ì˜ì˜ ê¸°ë¬¼ì„ ì²´ìŠ¤íŒ ìœ„ì— ì¶”ê°€

- [ ] ì²´ìŠ¤ íŒ ì„ì˜ì˜ ìœ„ì¹˜ì— ê¸°ë¬¼ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥
    - ë¹ˆ ì²´ìŠ¤ íŒì„ ìƒì„±í•œ í›„ ì„ì˜ì˜ ìœ„ì¹˜ì— ê¸°ë¬¼ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„

- [ ] í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œ êµ¬í˜„
  ```java
      public class BoardTest {
          private Board board;
  
      @Before
      public void setup() {
          board = new Board();
      }
  
      [...]
  
      @Test
      public void move() throws Exception {
          board.initializeEmpty();
  
          String position = "b5";
          Piece piece = Piece.createBlackRook();
          board.move(position, piece);
  
          assertEquals(piece, board.findPiece(position));
          System.out.println(board.showBoard());
          }
      }
    ```
  #### âœ¨ êµ¬í˜„ íŒíŠ¸
    - ìœ„ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ë ¤ë©´ ì²´ìŠ¤ íŒì„ ì´ˆê¸°í™”í•  ë•Œ **ê¸°ë¬¼ì´ ì•„ë¬´ ê²ƒë„ ì—†ëŠ” ë¹ˆ ìƒíƒœì˜ ì²´ìŠ¤íŒì„ ì´ˆê¸°í™”**í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
        - BoardTestì—ì„œ @BeforeEach ë¶€ë¶„ì˜ initilaize() í˜¸ì¶œ ë¶€ë¶„ ì œê±°í•´ì•¼ í•¨.
    - ArrayListì— ì¡´ì¬í•˜ëŠ” ê¸°ì¡´ì˜ Pieceë¥¼ ì œê±°í•˜ê³  ìƒˆë¡œìš´ Pieceë¡œ ë³€ê²½í•˜ëŠ” ê²½ìš° **set() ë©”ì†Œë“œ**ë¥¼ í™œìš©í•œë‹¤.

  #### âœ¨ í´ë˜ìŠ¤ ì¶”ì¶œ ì œì•ˆ
    - ìœ„ì¹˜ ê°’ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ì´ ê³„ì†í•´ì„œ **ì¤‘ë³µ ë¡œì§**ìœ¼ë¡œ ë°œìƒí•œë‹¤.
    - ìœ„ì¹˜ ê°’ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ì— **ì—ëŸ¬ê°€ ë°œìƒ**í•  ê°€ëŠ¥ì„±ì´ ë§ì•„ ë³´ì¸ë‹¤.
    - **ìœ„ì¹˜ ê°’ì„ ì²˜ë¦¬í•˜ëŠ” ì „ë‹´ í´ë˜ìŠ¤**ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì–´ë–¨ê¹Œ?

### 8. ì²´ìŠ¤ í”„ë¡œê·¸ë¨ ì ìˆ˜ ê³„ì‚°í•˜ê¸°

- [ ] í˜„ì¬ê¹Œì§€ ë‚¨ì•„ ìˆëŠ” ê¸°ë¬¼ì— ë”°ë¼ ì ìˆ˜ë¥¼ ê³„ì‚°
    - ê° ê¸°ë¬¼ì˜ ì ìˆ˜ : queen(9), rook(5), bishop(3), king(2.5), pawn(1), King(0)
    - ê°™ì€ ì„¸ë¡œì¤„ì— ê°™ì€ ìƒ‰ì˜ pawnì´ ì¡´ì¬ â†’ pawn(0.5)

- [ ] í•œ ë²ˆì— í•œ ìª½ì˜ ì ìˆ˜ë§Œì„ ê³„ì‚°
    - í°ìƒ‰ ë”°ë¡œ ê²€ì€ìƒ‰ ë”°ë¡œ ê³„ì‚°

- [ ] í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œ ì‘ì„±
  ```java
      public class BoardTest {
      private Board board;
  
      @Before
      public void setup() {
          board = new Board();
      }
  
      [...]
  
      @Test
      public void caculcatePoint() throws Exception {
          board.initializeEmpty();
  
          addPiece("b6", Piece.createBlackPawn());
          addPiece("e6", Piece.createBlackQueen());
          addPiece("b8", Piece.createBlackKing());
          addPiece("c8", Piece.createBlackRook());
  
          addPiece("f2", Piece.createWhitePawn());
          addPiece("g2", Piece.createWhitePawn());
          addPiece("e1", Piece.createWhiteRook());
          addPiece("f1", Piece.createWhiteKing());
  
          assertEquals(15.0, board.caculcatePoint(Color.BLACK), 0.01);
          assertEquals(7.0, board.caculcatePoint(Color.WHITE), 0.01);
  
          System.out.println(board.showBoard());
      }
  
      private void addPiece(String position, Piece piece) {
          board.move(position, piece);
      }
  }
  ```

#### âœ¨ êµ¬í˜„ íŒíŠ¸ ë° ì¡°ì–¸

- ì§€ê¸ˆê¹Œì§€ êµ¬í˜„í•œ í”„ë¡œê·¸ë˜ë° ë¡œì§ ì¤‘ ê°€ì¥ ë³µì¡í•œ ìš”êµ¬ì‚¬í•­ì´ë‹¤. ì´ì™€ ê°™ì´ ë³µì¡í•œ ë¡œì§ì„ ì–´ë–»ê²Œ êµ¬í˜„í•  ê²ƒì¸ê°€?
- ë‹¨ìˆœí•œ ë¬¸ì œì—ì„œ ì ì°¨ ë³µì¡í•œ ë‹¨ê³„ë¡œ êµ¬í˜„í•˜ë„ë¡ ì„¤ê³„í•œë‹¤.
- í•œ ê°œì˜ ê¸°ë¬¼ì´ ì²´ìŠ¤íŒì— ìˆëŠ” ê²½ìš°ë¶€í„° ì‹œì‘í•´ í•˜ë‚˜ì”© ê¸°ë¬¼ì„ ì¶”ê°€í•˜ë©´ì„œ êµ¬í˜„í•´ ë‚˜ê°„ë‹¤.
- ë§ˆì§€ë§‰ ë‹¨ê³„ëŠ” pawnì´ ê°™ì€ ì„¸ë¡œ ì¤„ì— ìˆëŠ”ì§€ë¥¼ ê²€ì‚¬í•˜ëŠ” ë¡œì§ì„ êµ¬í˜„í•¨ìœ¼ë¡œì¨ ìš”êµ¬ì‚¬í•­ì„ ì™„ë£Œí•œë‹¤.
- ê°ê°ì˜ ê¸°ë¬¼ì´ ì ìˆ˜ë¥¼ ê°€ì§€ë„ë¡ êµ¬í˜„í•œë‹¤. enumì€ í´ë˜ìŠ¤ì™€ ê°™ì´ ìƒì„±ìë¥¼ í†µí•´ ê°’ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

   ```java
    public enum Type {
    PAWN('p', 1.0),
    ROOK('r', 5.0),
    KNIGHT('n', 2.5),
    BISHOP('b', 3.0),
    QUEEN('q', 9.0),
    KING('k', 0.0),
    NO_PIECE('.', 0.0);

    private char type;
    private double defaultPoint;

    private Type(char type, double defaultPoint) {
        this.type = type;
        this.defaultPoint = defaultPoint;
    }

    public double getDefaultPoint() {
        return defaultPoint;
    }
            
            [...]
}
   ```

### 9. ê¸°ë¬¼ì˜ ì ìˆ˜ì— ë”°ë¼ ì •ë ¬

- [ ] ëª¨ë“  ì²´ìŠ¤ë§ì„ ìë°” Collection ì— ì €ì¥
    - Collection ì •ë ¬ ê¸°ëŠ¥ í™œìš©

- [ ] ì ìˆ˜ ìˆœìœ¼ë¡œ ì •ë ¬
    - ê²€ì€ìƒ‰ê³¼ í°ìƒ‰ ì²´ìŠ¤ë§ì„ êµ¬ë¶„í•´ì„œ ì •ë ¬
    - ì ìˆ˜ê°€ ë†’ì€ ìˆœì„œë¡œ ì •ë ¬
    - ë‚®ì€ ìˆœì„œë¡œë„ ì •ë ¬

### ë¦¬í™í† ë§

- ì¸í„°í˜ì´ìŠ¤ë¥¼ ì ìš©í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ â†’ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¶”ì¶œ â†’ ì½”ë“œê°€ ë” ê¹”ë”í•´ ì§€ëŠ”ì§€, ë³µì¡í•´ ì§€ëŠ”ì§€ ê²€í† 
- ë‹¨ìˆœí•œ ì½”ë“œë¥¼ ìœ„í•´ì„œëŠ” **ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•˜ëŠ” "ìµœì†Œí•œì˜ í´ë˜ìŠ¤, ë©”ì†Œë“œ, ì¤‘ë³µì„ ì—†ì• ëŠ” ê²ƒ"** ì¤‘ìš”
    
