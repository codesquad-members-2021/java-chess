## 미션 4 : 모든 기물 배치하기

- 체스 판의 모든 기물(흑 16, 백 16)을 초기화한다

### 1. "\n" 의 반복 코드 제거

- [X] new line 문자
  - System.getProperty("line.separator")으로 구현
  - new line 문자는 운영체제에 따라 달라질 수 있다

- [X] StringUtils 클래스
  - 인자로 전달한 메소드에 new line 문자를 추가하는 기능을 구현
  - 생성자를 private으로 선언
    - StringUtils 클래스를 직접 생성할 수 없도록 한다
  - appendNewLine("문자열") 클래스 메소드
    - static import를 통해 구현
  - StringUtils 클래스로 NEWLINE 상수 값을 옮긴다
    - ```java
          public static final String NEWLINE = System.getProperty("line.separator"); 
         ```

### 2. Pawn 클래스 이름을 Piece로 rename

- [X] Pawn 클래스 rename 리펙토링
  - Pawn 클래스 → Piece 클래스

- [X] Piece 클래스 필드
  - 색상 (Color 타입, color)
  - 이름 (char 타입, representation)

- [X] Piece 클래스는 Value Object
  1. private 생성자
  2. 인스턴스를 생성한 이후에는 인스턴스의 상태 값을 변경할 수 없음
    - setter X
- [X] 기본 말을 생성하는 생성자는 없앤다.

### 3. 팩토리 메소드 구현

- [X] 각 Piece별로 흰색 말과 검은 색 말을 생성하는 팩토리 메소드를 추가
  - Piece.createWhitePawn()
  - Piece.createBlackKnight()

- [X] 테스트 메소드 작성
  - ```java
            public class PieceTest {
            @Test
            public void create_piece() {
            verifyPiece(Piece.createWhitePawn(), Piece.WHITE_COLOR, Piece.WHITE_PAWN_REPRESENTATION);
            verifyPiece(Piece.createBlackPawn(), Piece.BLACK_COLOR, Piece.BLACK_PAWN_REPRESENTATION);
            
                    [...다른 Piece 구현...]     
                }
            
                private void verifyPiece(final Piece piece, final String color, final char representation) {
                    assertEquals(color, piece.getColor());
                    assertEquals(representation, piece.getRepresentation());
                }
            }
       ```

### 4. 전체 기물의 상태를 볼 수 있는 체스판 구현 및 테스트

- [X] 보드 상태 출력하는 테스트 메소드 작성
  - BoardTest를 전체 체스판의 전체 상태를 테스트할 수 있도록 한다
  - ```java
        import static utils.StringUtils.appendNewLine;
        
        import static org.junit.Assert.*;
        
        import org.junit.Before;
        import org.junit.Test;
        
        public class BoardTest {
        private Board board;
        
            @Before
            public void setup() {
                board = new Board();
            }
            
            @Test
            public void create() throws Exception {
                board.initialize();
                assertEquals(32, board.pieceCount());
                String blankRank = appendNewLine("........");
                assertEquals(
                    appendNewLine("RNBQKBNR") +
                    appendNewLine("PPPPPPPP") +
                    blankRank + blankRank + blankRank + blankRank +
                    appendNewLine("pppppppp") +
                    appendNewLine("rnbqkbnr"),
                    board.showBoard());        
            }
        }
      ```

### 5. 검은색 말과 흰색 말을 구분할 수 있는 메소드 추가

- ✨ 테스트 메소드 작성이 선행되어야 함! TDD!!
- [ ] PieceTest 클래스 테스트 메소드 작성
  - isWhite(), isBlack() 테스트 메소드 작성
- [ ] Piece 클래스 메소드 추가
  - isWhite() isBlack()

### 6. 리팩토링

- [ ] 메소드 이름, 클래스 이름
  - CommandUtil 클래스 rename
    - CommandUtil 클래스 util 클래스 통일성을 위해 CommandUtils로 이름 변경
- [ ] 좀 더 단순한 코드로 구현

### 7. 최종 점검

- [ ] main() 메소드를 실행
  - 모든 Piece에 대한 초기화가 완료되었는지 확인
